<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-en="Lavi's Legendary Keyboard Fund" data-he="הקרן למקלדת האגדית של לביא">Lavi's Legendary Keyboard Fund</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=Assistant:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Assistant', sans-serif;
        }
        /* Custom animation for the progress bar loading */
        @keyframes progress-grow {
            from { width: 0%; }
        }
        .progress-bar-animated {
            animation: progress-grow 1.5s ease-out forwards;
        }
        /* Style for Hebrew text */
        html[lang="he"] body {
            direction: rtl;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">

        <!-- Language Switcher -->
        <div class="text-right mb-4">
            <button id="lang-switcher" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-full transition-colors duration-300">
                <span data-en="עברית" data-he="English">עברית</span>
            </button>
        </div>

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-cyan-400 mb-2" data-en="Lavi's Legendary Keyboard Fund" data-he="הקרן למקלדת האגדית של לביא">Lavi's Legendary Keyboard Fund</h1>
            <p class="text-lg text-gray-400" data-en="Fueling Our CTO's Genius, One Keystroke at a Time!" data-he="מתדלקים את הגאונות של ה-CTO שלנו, הקלדה אחר הקלדה!">Fueling Our CTO's Genius, One Keystroke at a Time!</p>
        </header>

        <!-- Main Content -->
        <main class="bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8">
            <div class="flex flex-col md:flex-row gap-8">
                <!-- Image -->
                <div class="md:w-1/3 flex-shrink-0">
                    <img src="https://images.unsplash.com/photo-1618384887929-16ec33fab9ef?q=80&w=2080&auto=format&fit=crop" 
                         onerror="this.onerror=null;this.src='https://placehold.co/400x400/1F2937/FFFFFF?text=Cool+Keyboard';"
                         alt="A high-end mechanical keyboard" class="rounded-xl object-cover w-full h-full">
                </div>
                
                <!-- Details -->
                <div class="md:w-2/3">
                    <h2 class="text-2xl font-bold mb-3" data-en="The Mission" data-he="המשימה">The Mission</h2>
                    <p class="text-gray-400 mb-6" data-en="Our CTO, Lavi, is a hero. He swoops in to solve any problem, debugs the impossible, and guides us with wisdom. But a hero is only as good as their tools. We're on a mission to equip Lavi with the ultimate office accessory: a top-tier, customized mechanical keyboard. This will unlock his full potential and keep him happy for years to come!" data-he="ה-CTO שלנו, לביא, הוא גיבור. הוא מגיע לפתור כל בעיה, מתקן את הבלתי אפשרי, ומדריך אותנו בחוכמה. אבל גיבור טוב רק כמו הכלים שלו. אנחנו במשימה לצייד את לביא באביזר המשרדי האולטימטיבי: מקלדת מכנית מותאמת אישית מהשורה הראשונה. זה ישחרר את מלוא הפוטנציאל שלו וישמור עליו מאושר לשנים הבאות!">Our CTO, Lavi, is a hero. He swoops in to solve any problem, debugs the impossible, and guides us with wisdom. But a hero is only as good as their tools. We're on a mission to equip Lavi with the ultimate office accessory: a top-tier, customized mechanical keyboard. This will unlock his full potential and keep him happy for years to come!</p>

                    <!-- Progress Bar -->
                    <div class="mb-6">
                        <div class="flex justify-between items-end mb-1 text-sm font-medium text-gray-300">
                           <span id="current-amount">$4,500</span>
                           <span class="text-gray-400" data-en="Goal: $10,000" data-he="יעד: $10,000">Goal: $10,000</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-4">
                            <div id="progress-bar" class="bg-gradient-to-r from-purple-500 to-cyan-500 h-4 rounded-full progress-bar-animated" style="width: 45%;"></div>
                        </div>
                    </div>

                    <!-- Donate Button -->
                    <button id="donate-now-btn" class="w-full bg-cyan-500 hover:bg-cyan-400 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg hover:shadow-cyan-500/50 transition-all duration-300 transform hover:scale-105" data-en="Donate Now" data-he="תרום עכשיו">Donate Now</button>
                </div>
            </div>
        </main>

        <!-- Donations Section -->
        <section class="mt-12">
            <h3 class="text-2xl font-bold text-center mb-6" data-en="Wall of Support" data-he="קיר התמיכה">Wall of Support</h3>
            <div id="donations-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Donation cards will be injected here by JS -->
            </div>
        </section>
    </div>

    <!-- Donation Modal -->
    <div id="donation-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-gray-800 rounded-2xl shadow-xl w-full max-w-md p-8 relative transform transition-all scale-95 opacity-0" id="modal-content">
            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-white transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 class="text-2xl font-bold mb-4 text-white" data-en="Join the Cause!" data-he="הצטרף למטרה!">Join the Cause!</h2>
            <form id="donation-form">
                <div class="mb-4">
                    <label for="name" class="block text-sm font-medium text-gray-300 mb-1" data-en="Your Name" data-he="השם שלך">Your Name</label>
                    <input type="text" id="name" name="name" class="w-full bg-gray-700 border-gray-600 text-white rounded-lg p-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition" required>
                </div>
                <div class="mb-4">
                    <label for="amount" class="block text-sm font-medium text-gray-300 mb-1" data-en="Amount ($)" data-he="סכום ($)">Amount ($)</label>
                    <input type="number" id="amount" name="amount" class="w-full bg-gray-700 border-gray-600 text-white rounded-lg p-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition" required min="1">
                </div>
                <div class="mb-6">
                    <label for="message" class="block text-sm font-medium text-gray-300 mb-1" data-en="Leave a nice message" data-he="השאר הודעה נחמדה">Leave a nice message</label>
                    <textarea id="message" name="message" rows="3" class="w-full bg-gray-700 border-gray-600 text-white rounded-lg p-2 focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 outline-none transition" required></textarea>
                </div>
                <button type="submit" class="w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-6 rounded-lg text-lg shadow-lg hover:shadow-purple-500/50 transition-all duration-300" data-en="Confirm Donation" data-he="אשר תרומה">Confirm Donation</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- STATE & CONFIG ---
            const GOAL = 10000;
            let currentRaised = 4500;
            let currentLanguage = 'en';

            const initialDonations = [
                {
                    name: "Dvir",
                    amount: 500,
                    message: {
                        en: "OMG LAVI! WITHOUT YOU, WE ARE BUT DIGITAL DUST IN THE COSMIC WIND! THIS KEYBOARD ISN'T JUST A TOOL, IT'S THE HOLY GRAIL OF PRODUCTIVITY! TAKE MY MONEY! TAKE IT ALL! FOR THE CODE!!!!!",
                        he: "אומייגאד לביא! בלעדיך אנחנו סתם אבק דיגיטלי ברוח הקוסמית! המקלדת הזו היא לא רק כלי, היא הגביע הקדוש של הפרודוקטיביות! קח את הכסף שלי! קח הכל! למען הקוד!!!!!"
                    },
                    avatar: 'D'
                },
                { name: "Jonathan", amount: 250, message: { en: "Happy to help, Lavi! You're the best.", he: "שמח לעזור, לביא! אתה הטוב ביותר." }, avatar: 'J' },
                { name: "Asaf", amount: 200, message: { en: "For all the times you've saved us from a git disaster. Cheers!", he: "על כל הפעמים שהצלת אותנו מאסון git. לחיים!" }, avatar: 'A' },
                { name: "Eliezer & Hili", amount: 300, message: { en: "A small token for a great CTO. Enjoy the new setup!", he: "שי קטן ל-CTO גדול. תהנה מהציוד החדש!" }, avatar: 'E' },
                { name: "Efraim", amount: 150, message: { en: "Anything for our fearless leader. Hope this helps!", he: "הכל למען המנהיג חסר הפחד שלנו. מקווה שזה עוזר!" }, avatar: 'E' },
            ];
            
            let allDonations = [...initialDonations];

            // --- DOM ELEMENTS ---
            const progressBar = document.getElementById('progress-bar');
            const currentAmountEl = document.getElementById('current-amount');
            const donationsContainer = document.getElementById('donations-container');
            const donateNowBtn = document.getElementById('donate-now-btn');
            const donationModal = document.getElementById('donation-modal');
            const modalContent = document.getElementById('modal-content');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const donationForm = document.getElementById('donation-form');
            const langSwitcherBtn = document.getElementById('lang-switcher');
            const translatableElements = document.querySelectorAll('[data-en]');

            // --- FUNCTIONS ---

            const updateProgress = () => {
                const percentage = Math.min((currentRaised / GOAL) * 100, 100);
                progressBar.style.width = `${percentage}%`;
                currentAmountEl.textContent = `$${currentRaised.toLocaleString()}`;
            };

            const renderDonations = () => {
                donationsContainer.innerHTML = ''; // Clear existing donations
                allDonations.forEach(donation => {
                    const card = document.createElement('div');
                    card.className = 'bg-gray-800/50 rounded-xl p-5 shadow-lg flex flex-col transition transform hover:-translate-y-1';
                    
                    const messageText = donation.message[currentLanguage] || donation.message['en'];

                    card.innerHTML = `
                        <div class="flex items-center mb-3">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-tr from-purple-500 to-cyan-500 flex items-center justify-center font-bold text-2xl text-white mr-4 flex-shrink-0">${donation.avatar}</div>
                            <div>
                                <p class="font-bold text-white text-lg">${donation.name}</p>
                                <p class="font-semibold text-cyan-400 text-md">$${donation.amount.toLocaleString()}</p>
                            </div>
                        </div>
                        <p class="text-gray-400 italic flex-grow">"${messageText}"</p>
                    `;
                    donationsContainer.appendChild(card);
                });
            };

            const switchLanguage = (lang) => {
                currentLanguage = lang;
                document.documentElement.lang = lang;
                
                translatableElements.forEach(el => {
                    if (el.dataset[lang]) {
                       if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                            el.placeholder = el.dataset[lang];
                       } else {
                            el.innerHTML = el.dataset[lang];
                       }
                    }
                });
                renderDonations(); // Re-render donations with the correct language
            };
            
            const toggleModal = (show) => {
                if (show) {
                    donationModal.classList.remove('hidden');
                    // Trigger reflow to apply transition
                    setTimeout(() => {
                        modalContent.classList.remove('scale-95', 'opacity-0');
                    }, 10); 
                } else {
                    modalContent.classList.add('scale-95', 'opacity-0');
                    setTimeout(() => {
                        donationModal.classList.add('hidden');
                    }, 200); // Match transition duration
                }
            };
            
            const handleDonationSubmit = (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                const name = formData.get('name');
                const amount = parseInt(formData.get('amount'), 10);
                const message = formData.get('message');

                if (name && amount > 0 && message) {
                    const newDonation = {
                        name,
                        amount,
                        message: { en: message, he: message }, // For simplicity, new messages are same in both langs
                        avatar: name.charAt(0).toUpperCase()
                    };
                    
                    allDonations.unshift(newDonation); // Add to the beginning of the array
                    currentRaised += amount;
                    
                    updateProgress();
                    renderDonations();
                    e.target.reset();
                    toggleModal(false);
                }
            };

            // --- EVENT LISTENERS ---
            
            donateNowBtn.addEventListener('click', () => toggleModal(true));
            closeModalBtn.addEventListener('click', () => toggleModal(false));
            donationModal.addEventListener('click', (e) => {
                if (e.target === donationModal) {
                    toggleModal(false);
                }
            });
            donationForm.addEventListener('submit', handleDonationSubmit);

            langSwitcherBtn.addEventListener('click', () => {
                const newLang = currentLanguage === 'en' ? 'he' : 'en';
                switchLanguage(newLang);
            });

            // --- INITIALIZATION ---
            
            updateProgress();
            // Initial render with default language
            switchLanguage(currentLanguage);
        });
    </script>
</body>
</html>
