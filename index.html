<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>לוח מודעות דיגיטלי - בית כנסת המרכזי</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Assistant:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Gilded Parchment -->
    <!-- Application Structure Plan: The application uses a two-part dashboard structure as specified in the source report, which is ideal for digital signage. A large, dynamic upper panel (60% height) rotates key messages (dedications, celebrations) to capture attention, while a static lower panel (40% height) presents essential, persistent information (schedules, times, clock) in a clear three-column grid. This separation ensures that viewers can always find critical information at a glance while being kept up-to-date with changing announcements. The entire layout is Right-to-Left (RTL) to support the Hebrew language requirement. -->
    <!-- Visualization & Content Choices: Report Info: Dedications, Simchos -> Goal: Inform/Celebrate -> Presentation: Large text-based cards with optional images in a rotating display. Interaction: Automatic rotation. Justification: Maximizes visibility for key announcements on a large screen. | Report Info: Zmanim, Schedule, Clock -> Goal: Inform -> Presentation: Static, high-contrast text lists in a grid. Interaction: Clock updates live. Justification: Guarantees readability and constant availability of essential daily information. Library/Method: All elements are structured HTML styled with Tailwind CSS and dynamically updated with vanilla JavaScript. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Assistant', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .main-content-item {
            animation: fadeIn 0.8s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .scrolling-list {
            height: 100%;
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
        }
        .scrolling-list::-webkit-scrollbar {
            display: none; /* Safari and Chrome */
        }
    </style>
</head>
<body class="bg-stone-100 text-gray-800 h-screen w-screen overflow-hidden flex flex-col">

    <header class="w-full bg-stone-200/80 backdrop-blur-sm p-4 shadow-md z-10">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <div class="w-12 h-12 bg-amber-800/10 rounded-full flex items-center justify-center">
                     <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-800"><path d="M20 10v11a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V10"/><path d="M18 22V8l-6-4-6 4v14"/><path d="M14 22V16a2 2 0 0 0-4 0v6"/></svg>
                </div>
                <h1 id="shul-name" class="text-3xl font-bold text-amber-900">בית הכנסת המרכזי, טבריה</h1>
            </div>
            <div id="date-time-header" class="text-left">
                <div id="clock" class="text-4xl font-bold text-gray-900"></div>
                <div id="hebrew-date" class="text-lg text-gray-600"></div>
            </div>
        </div>
    </header>

    <main id="main-content-area" class="flex-grow flex items-center justify-center p-8">
        <!-- Rotating content will be injected here -->
    </main>

    <footer class="w-full bg-white/70 backdrop-blur-sm shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] h-[40vh]">
        <div class="h-full mx-auto grid grid-cols-3 gap-px bg-gray-200">
            <!-- Zmanim Column -->
            <div class="bg-stone-50 p-6 flex flex-col">
                <h2 class="text-3xl font-bold text-amber-800 border-b-2 border-amber-800/50 pb-2 mb-4">זמני היום</h2>
                <ul id="zmanim-list" class="space-y-3 text-2xl">
                    <!-- Zmanim will be populated here -->
                </ul>
            </div>

            <!-- Schedule Column -->
            <div class="bg-stone-50 p-6 flex flex-col">
                <h2 class="text-3xl font-bold text-blue-900 border-b-2 border-blue-900/50 pb-2 mb-4">לוח זמנים</h2>
                <div class="grid grid-cols-2 gap-x-6 text-2xl">
                    <div>
                        <h3 class="font-semibold mb-2">תפילות חול</h3>
                        <ul id="weekday-prayers" class="space-y-2"></ul>
                    </div>
                    <div>
                        <h3 class="font-semibold mb-2">תפילות שבת</h3>
                        <ul id="shabbat-prayers" class="space-y-2"></ul>
                    </div>
                </div>
                <div class="mt-auto pt-4">
                     <h3 class="font-semibold mb-2 text-2xl">שיעורים ותוכניות</h3>
                     <ul id="shiurim-list" class="space-y-2 text-xl"></ul>
                </div>
            </div>

            <!-- Announcements Column -->
            <div class="bg-stone-50 p-6 flex flex-col h-full">
                <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-800/50 pb-2 mb-4">הודעות ואירועים</h2>
                <div class="scrolling-list flex-grow">
                    <ul id="announcements-list" class="space-y-4 text-2xl">
                        <!-- Announcements will be populated here -->
                    </ul>
                </div>
            </div>
        </div>
    </footer>

<script>
    // --- DATA SIMULATION (In a real app, this comes from a back-office API) ---
    const AppData = {
        shulName: "בית הכנסת המרכזי, טבריה",
        location: { lat: 32.7940, lon: 35.5318 }, // Tiberias
        mainContent: [
            {
                type: 'dedication',
                title: 'קידוש שבת פרשת במדבר',
                sponsor: 'משפחת כהן',
                text: 'לרגל הולדת הנכדה. מזל טוב!',
                image: 'https://placehold.co/150x150/EADDCA/44403C?text=מזל+טוב'
            },
            {
                type: 'simcha',
                title: 'מזל טוב!',
                family: 'משפחת לוי',
                text: 'לרגל אירוסי הבן, יוסף, עם רבקה בת ישראל ישראלי'
            },
            {
                type: 'welcome',
                title: 'ברוכים הבאים',
                family: 'משפחת חדד',
                text: 'אנו שמחים לקבל אתכם לקהילתנו!'
            },
            {
                type: 'dedication',
                title: 'סעודה שלישית',
                sponsor: 'משפחת אברהם',
                text: 'לעילוי נשמת סבם, אברהם בן יצחק ז"ל'
            }
        ],
        zmanim: { // Note: In production, use a library like KosherZmanim.js or an API (e.g., hebcal.com) based on location. These are illustrative for Tiberias.
            'עלות השחר': '04:05',
            'נץ החמה': '05:33',
            'סוף זמן ק"ש': '09:11',
            'סוף זמן תפילה': '10:18',
            'חצות היום': '12:43',
            'מנחה גדולה': '13:17',
            'שקיעת החמה': '19:53',
            'צאת הכוכבים': '20:15'
        },
        schedule: {
            weekday: [
                { prayer: 'שחרית', time: '06:30, 07:30' },
                { prayer: 'מנחה', time: '13:30, 19:30' },
                { prayer: 'ערבית', time: '20:15' }
            ],
            shabbat: [
                { prayer: 'מנחה ע"ש', time: '18:45' },
                { prayer: 'קבלת שבת', time: '19:00' },
                { prayer: 'שחרית', time: '08:15' },
                { prayer: 'מנחה', time: '18:30' }
            ],
            shiurim: [
                 { name: 'דף היומי', time: 'לאחר תפילת שחרית' },
                 { name: 'אבות ובנים', time: 'שבת ב-17:00' },
                 { name: 'שיעור תהילים', time: 'שלישי ב-20:00' }
            ]
        },
        announcements: [
            'הציבור מוזמן לאזכרה השנתית למרן הרב עובדיה יוסף זצ"ל ביום שני.',
            'רישום לקייטנות הקיץ בעיצומו במשרדי המתנ"ס.',
            'תזכורת: יש להחנות את הרכבים בחניון המסודר בלבד.',
            'גמ"ח "יד חמה" מחפש מתנדבים לחלוקת מזון לשבת.'
        ]
    };

    // --- DOM ELEMENTS ---
    const mainContentArea = document.getElementById('main-content-area');
    const clockEl = document.getElementById('clock');
    const hebrewDateEl = document.getElementById('hebrew-date');
    const zmanimListEl = document.getElementById('zmanim-list');
    const weekdayPrayersEl = document.getElementById('weekday-prayers');
    const shabbatPrayersEl = document.getElementById('shabbat-prayers');
    const shiurimListEl = document.getElementById('shiurim-list');
    const announcementsListEl = document.getElementById('announcements-list');
    const shulNameEl = document.getElementById('shul-name');

    // --- CLOCK & DATE ---
    function updateClockAndDate() {
        const now = new Date();
        const timeString = now.toLocaleTimeString('he-IL', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
        clockEl.textContent = timeString;

        const hebrewDateStr = new Intl.DateTimeFormat('he-u-ca-hebrew', {
            year: 'numeric', month: 'long', day: 'numeric'
        }).format(now);
        const gregorianDateStr = new Intl.DateTimeFormat('he-IL', {
            weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
        }).format(now);
        
        hebrewDateEl.textContent = `${hebrewDateStr} | ${gregorianDateStr}`;
    }

    // --- CONTENT RENDERING ---
    function renderMainContent(item) {
        let contentHtml = '';
        switch (item.type) {
            case 'dedication':
                contentHtml = `
                    <div class="main-content-item text-center bg-white/50 p-10 rounded-2xl shadow-xl max-w-4xl mx-auto">
                        <h2 class="text-5xl font-bold text-amber-900 mb-4">${item.title}</h2>
                        ${item.image ? `<img src="${item.image}" alt="הקדשה" class="mx-auto rounded-lg mb-4 w-36 h-36 object-cover border-4 border-white shadow-md">` : ''}
                        <p class="text-4xl text-gray-800">נתרם על ידי <span class="font-semibold">${item.sponsor}</span></p>
                        <p class="text-3xl text-gray-600 mt-2">${item.text}</p>
                    </div>`;
                break;
            case 'simcha':
                 contentHtml = `
                    <div class="main-content-item text-center bg-white/50 p-10 rounded-2xl shadow-xl max-w-4xl mx-auto">
                        <h2 class="text-6xl font-bold text-blue-800 mb-4">${item.title}</h2>
                        <p class="text-4xl text-gray-800">למשפחת <span class="font-semibold">${item.family}</span></p>
                        <p class="text-3xl text-gray-600 mt-2">${item.text}</p>
                    </div>`;
                break;
            case 'welcome':
                 contentHtml = `
                    <div class="main-content-item text-center bg-white/50 p-10 rounded-2xl shadow-xl max-w-4xl mx-auto">
                        <h2 class="text-6xl font-bold text-teal-800 mb-4">${item.title}</h2>
                        <p class="text-4xl text-gray-800">קהילתנו שמחה לקבל את</p>
                        <p class="text-5xl font-semibold text-teal-900 mt-3">${item.family}</p>
                        <p class="text-3xl text-gray-600 mt-2">${item.text}</p>
                    </div>`;
                break;
        }
        mainContentArea.innerHTML = contentHtml;
    }

    function populateStaticContent() {
        shulNameEl.textContent = AppData.shulName;

        zmanimListEl.innerHTML = Object.entries(AppData.zmanim)
            .map(([name, time]) => `<li><span class="font-semibold">${name}:</span> ${time}</li>`)
            .join('');

        weekdayPrayersEl.innerHTML = AppData.schedule.weekday
            .map(p => `<li><span class="font-semibold">${p.prayer}:</span> ${p.time}</li>`)
            .join('');

        shabbatPrayersEl.innerHTML = AppData.schedule.shabbat
            .map(p => `<li><span class="font-semibold">${p.prayer}:</span> ${p.time}</li>`)
            .join('');
        
        shiurimListEl.innerHTML = AppData.schedule.shiurim
            .map(s => `<li><span class="font-semibold">${s.name}:</span> ${s.time}</li>`)
            .join('');

        announcementsListEl.innerHTML = AppData.announcements
            .map(a => `<li class="border-r-4 border-teal-800/50 pr-4">${a}</li>`)
            .join('');
    }

    // --- INITIALIZATION & TIMERS ---
    let currentContentIndex = 0;

    function cycleMainContent() {
        renderMainContent(AppData.mainContent[currentContentIndex]);
        currentContentIndex = (currentContentIndex + 1) % AppData.mainContent.length;
    }

    function init() {
        // Initial population
        updateClockAndDate();
        populateStaticContent();
        cycleMainContent();

        // Set intervals
        setInterval(updateClockAndDate, 1000); // Update clock every second
        setInterval(cycleMainContent, 15000); // Rotate main content every 15 seconds
    }

    document.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>
